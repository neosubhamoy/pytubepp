on:
  push:
    branches:
    - main
      
name: ğŸš€ Publish to PyPI
jobs:
    pypi-publish:
      name: ğŸ‰ Upload release to PyPI
      runs-on: ubuntu-latest
      environment: release
      permissions:
        id-token: write
      steps:
        - name: ğŸšš Checkout repository
          uses: actions/checkout@v4

        - name: ğŸ Setup Python
          uses: actions/setup-python@v5
          with:
            python-version: '3.12'

        - name: ğŸ“¦ Install dependencies
          run: |
            pip install -r requirements.txt

        - name: ğŸ› ï¸ Build package
          run: python3 -m build

        - name: ğŸš€ Publish package distributions to PyPI
          uses: pypa/gh-action-pypi-publish@release/v1